(this["webpackJsonpcawaapps-firebase"]=this["webpackJsonpcawaapps-firebase"]||[]).push([[0],{37:function(e,t,a){e.exports=a(58)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(22),s=a.n(r),l=(a(42),a(43),a(14)),c=a(10),i=a(8),u=a(12),p=a(13),d=a(16),m=a(15),h=(a(44),a(9)),g=a(25),v=a.n(g);a(49),a(51);v.a.initializeApp({apiKey:"AIzaSyDBwcd3AQ7zZ4R4U3y9LpOTJVVvlxV8LAk",authDomain:"cawaapps.firebaseapp.com",databaseURL:"https://cawaapps.firebaseio.com",projectId:"cawaapps",storageBucket:"cawaapps.appspot.com",messagingSenderId:"115825543646",appId:"1:115825543646:web:f3ee2b828e7b4a9bd8b54f",measurementId:"G-R1MFYQVK00"});var f=v.a.database(),N=v.a,E=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:"",content:"",date:"",textButton:"SIMPAN",noteId:""},e.handleSaveNotes=function(){var t=e.state,a=t.title,n=t.content,o=t.textButton,r=t.noteId,s=e.props,l=s.saveNotes,c=s.updateNotes,i=JSON.parse(localStorage.getItem("userData")),u={title:a,content:n,date:(new Date).getTime(),userId:i.uid};"SIMPAN"===o?a&&n?l(u):alert("gagal"):(u.noteId=r,c(u)),console.log("nilai data => ",u)},e.onInputChange=function(t,a){e.setState(Object(i.a)({},a,t.target.value))},e.updateNotes=function(t){console.log(t),e.setState({title:t.data.title,content:t.data.content,textButton:"UPDATE",noteId:t.id})},e.cancelUpdate=function(){e.setState({title:"",content:"",textButton:"SIMPAN"})},e.deleteNote=function(t,a){(t.stopPropagation(),window.confirm("Data Akan di Hapus Permanaen!!"))&&(0,e.props.deleteNote)({userId:JSON.parse(localStorage.getItem("userData")).uid,noteId:a.id})},e.keluarNote=function(){var t=e.props.history;localStorage.removeItem("userData"),t.push("/")},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.history,t=JSON.parse(localStorage.getItem("userData"));null===t?e.push("/"):this.props.getNotes(t.uid)}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,r=t.content,s=t.textButton,l=this.props,c=l.notes,u=l.loadingContent,p=this.updateNotes,d=this.cancelUpdate,m=this.deleteNote,h=this.keluarNote;return console.log("data notes : ",c),console.log("loading content => ",u),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"keluar-note",onClick:h},o.a.createElement("p",{className:"text-keluar"},"Keluar")),o.a.createElement("div",{className:"input-form"},o.a.createElement("input",{placeholder:"title",className:"input-title",value:a,onChange:function(t){return e.onInputChange(t,"title")}}),o.a.createElement("textarea",{placeholder:"content",className:"input-title",value:r,onChange:function(t){return e.onInputChange(t,"content")}}),o.a.createElement("div",{className:"action-wrap"},"UPDATE"===s?o.a.createElement("button",Object(i.a)({className:"save-btn cancel",onClick:this.handleSaveNotes},"onClick",d),"Cancel"):o.a.createElement("div",null),o.a.createElement("button",{className:"save-btn",onClick:this.handleSaveNotes},s))),o.a.createElement("hr",null),u?o.a.createElement("div",null,o.a.createElement("h2",null,"loading ...")):c.length>0?o.a.createElement(n.Fragment,null,c.map((function(e){return o.a.createElement("div",{className:"card-content",key:e.id,onClick:function(){return p(e)}},o.a.createElement("p",{className:"title"},e.data.title),o.a.createElement("p",{className:"date"},e.data.date),o.a.createElement("p",{className:"content"},e.data.content),o.a.createElement("div",{className:"delete-btn",onClick:function(t){return m(t,e)}},"X"))}))):o.a.createElement("p",null,"kosong .."))}}]),a}(n.Component),b=Object(h.b)((function(e){return{userData:e.user,notes:e.notes,loadingContent:e.loadingContent}}),(function(e){return{saveNotes:function(t){return e(function(e){return function(t){f.ref("notes/"+e.userId).push({title:e.title,content:e.content,date:e.date})}}(t))},getNotes:function(t){return e((a=t,function(e){var t=N.database().ref("notes/"+a);return new Promise((function(a,n){e({type:"LOADING_CONTENT",value:!0}),t.on("value",(function(t){if(console.log("mengambil data : ",t.val()),null===t.val())e({type:"SET_NOTES",value:{}}),e({type:"LOADING_CONTENT",value:!1});else{var n=[];Object.keys(t.val()).map((function(e){n.push({id:e,data:t.val()[e]})})),e({type:"SET_NOTES",value:n}),a(t.val()),e({type:"LOADING_CONTENT",value:!1})}}))}))}));var a},updateNotes:function(t){return e(function(e){return function(t){var a=N.database().ref("notes/".concat(e.userId,"/").concat(e.noteId));return new Promise((function(t,n){a.set({title:e.title,content:e.content,date:e.date},(function(e){e?n(!1):t(!0)}))}))}}(t))},deleteNote:function(t){return e(function(e){return function(t){var a=N.database().ref("notes/".concat(e.userId,"/").concat(e.noteId));return new Promise((function(e,t){a.remove()}))}}(t))}}}))(E),O=a(17),C=a.n(O),A=a(24),w=function(e){var t=e.title,a=e.onClick;return e.loading?o.a.createElement("button",{className:"btn disable",disabled:!0},"Loading ..."):o.a.createElement("button",{className:"btn",onClick:a},t)},I=(a(55),function(e){var t=e.status;return console.log("status => ",t),t?o.a.createElement("div",{className:"alert"},o.a.createElement("p",null,"Berhsil Daftar")):!1===t?o.a.createElement("div",{className:"gagal"},o.a.createElement("p",null,"Gagal Daftar")):o.a.createElement("div",null)}),S=function(e){return e.status?o.a.createElement("div",{className:"login"},o.a.createElement("p",null,"Login Gagal")):o.a.createElement("div",null)},y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.handleChangeText=function(t){e.setState(Object(i.a)({},t.target.id,t.target.value))},e.handleLoginSubmit=Object(A.a)(C.a.mark((function t(){var a,n,o,r,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.email,o=a.password,r=e.props.history,console.log("data sebelum dikirim => ",n,o),t.next=5,e.props.loginAPI({email:n,password:o}).catch((function(e){return e}));case 5:(s=t.sent)?(console.log("login success =>",s),localStorage.setItem("userData",JSON.stringify(s)),e.setState({email:"",password:""}),r.push("/dashboard")):console.log("login gagal");case 7:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userData"),t=this.props.history;null!=e?t.push("/dashboard"):t.push("/")}},{key:"render",value:function(){return o.a.createElement("div",{className:"auth-container"},o.a.createElement("div",{className:"auth-card"},o.a.createElement("p",{className:"auth-title"},"Halaman Masuk"),o.a.createElement("input",{className:"input",id:"email",placeholder:"Email",type:"text",onChange:this.handleChangeText,value:this.state.email}),o.a.createElement("input",{className:"input",id:"password",placeholder:"Password",type:"password",onChange:this.handleChangeText,value:this.state.password}),o.a.createElement(S,{status:this.props.status}),o.a.createElement(w,{onClick:this.handleLoginSubmit,title:"Login",loading:this.props.isLoading}),o.a.createElement(l.b,{style:{textDecoration:"none"},to:"/register"},o.a.createElement("p",{className:"text-registrasi"},"REGISTRASI"))))}}]),a}(n.Component),j=Object(h.b)((function(e){return{isLoading:e.isLoading,status:e.status}}),(function(e){return{loginAPI:function(t){return e(function(e){return function(t){return t({type:"CHANGE_STATUS",value:null}),new Promise((function(a,n){t({type:"CHANGE_LOADING",value:!0}),N.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){var n={email:e.user.email,uid:e.user.uid,emailVerified:e.user.emailVerified,refreshToken:e.user.refreshToken};t({type:"CHANGE_LOADING",value:!1}),t({type:"CHANGE_LOGIN",value:!0}),t({type:"CHANGE_USER",value:n}),a(n)})).catch((function(e){var a=e.code,o=e.message;console.log(a,o),t({type:"CHANGE_LOADING",value:!1}),t({type:"CHANGE_LOGIN",value:!1}),t({type:"CHANGE_STATUS",value:!0}),n(!1)}))}))}}(t))}}}))(y),T=(a(57),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.handleChangeText=function(t){e.setState(Object(i.a)({},t.target.id,t.target.value))},e.handleRegisterSubmit=Object(A.a)(C.a.mark((function t(){var a,n,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.email,o=a.password,console.log("data sebelum dikirim => ",n,o),t.next=4,e.props.registerAPI({email:n,password:o}).catch((function(e){return e}));case 4:t.sent&&(e.props.history.push("/"),e.setState({email:"",password:""}));case 6:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"auth-container"},o.a.createElement("div",{className:"auth-card"},o.a.createElement("p",{className:"auth-title"},"Register Page"),o.a.createElement("input",{className:"input",id:"email",placeholder:"Email",type:"text",onChange:this.handleChangeText,value:this.state.email}),o.a.createElement("input",{className:"input",id:"password",placeholder:"Password",type:"password",onChange:this.handleChangeText,value:this.state.password}),o.a.createElement(I,{status:this.props.status}),o.a.createElement(w,{onClick:this.handleRegisterSubmit,title:"Register",loading:this.props.isLoading}),o.a.createElement(l.b,{style:{textDecoration:"none"},to:"/"},o.a.createElement("p",{className:"text-registrasi"},"LOGIN"))))}}]),a}(n.Component)),G=Object(h.b)((function(e){return{isLoading:e.isLoading,status:e.status}}),(function(e){return{registerAPI:function(t){return e(function(e){return function(t){return t({type:"CHANGE_STATUS",value:null}),new Promise((function(a,n){t({type:"CHANGE_LOADING",value:!0}),N.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){console.log("Berhasil => ",e),t({type:"CHANGE_LOADING",value:!1}),t({type:"CHANGE_STATUS",value:!0}),a(!0)})).catch((function(e){var a=e.code,o=e.message;console.log(a,o),t({type:"CHANGE_LOADING",value:!1}),t({type:"CHANGE_STATUS",value:!1}),n(!1)}))}))}}(t))}}}))(T),k=a(19),L=a(36),D=a(3),x={popup:!1,isLogin:!1,isLoading:!1,loadingContent:!0,status:null,user:{},notes:{}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_POPUP":return Object(D.a)(Object(D.a)({},e),{},{popup:t.value});case"CHANGE_ISLOGIN":return Object(D.a)(Object(D.a)({},e),{},{isLogin:t.value});case"CHANGE_USER":return Object(D.a)(Object(D.a)({},e),{},{user:t.value});case"CHANGE_LOADING":return Object(D.a)(Object(D.a)({},e),{},{isLoading:t.value});case"CHANGE_STATUS":return Object(D.a)(Object(D.a)({},e),{},{status:t.value});case"SET_NOTES":return Object(D.a)(Object(D.a)({},e),{},{notes:t.value});case"LOADING_CONTENT":return Object(D.a)(Object(D.a)({},e),{},{loadingContent:t.value});default:return e}},P=Object(k.c)(_,Object(k.a)(L.a));var H=function(){return o.a.createElement(h.a,{store:P},o.a.createElement(l.a,null,o.a.createElement("div",null,o.a.createElement(c.a,{path:"/",exact:!0,component:j}),o.a.createElement(c.a,{path:"/dashboard",component:b}),o.a.createElement(c.a,{path:"/register",component:G}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.8a4b3029.chunk.js.map